# 前端模板工程组件完整性分析报告

> **版本**：v1.1 · **日期**：2026-02-15 · **工程**：ideal-frontbase

| 版本   | 日期         | 变更说明                       |
|:-----|:-----------|:---------------------------|
| v1.0 | 2026-02-15 | 初始报告                       |
| v1.1 | 2026-02-15 | 补充评分方法论、遗漏组件、下沉候选列表、完善验收标准 |

## 1. 报告概述

本报告面向 ideal-frontbase 作为"企业级前端模板工程"的组件完整性评估，重点关注三件事：

1. 当前工程在 packages/\* 层已具备哪些通用能力。
2. 作为模板工程仍缺哪些高频可复用组件。
3. 应按什么优先级补齐，才能最快提升跨项目交付效率。

## 2. 评估标准与方法论

### 2.1 评估维度

本次评估采用四个维度：

1. **覆盖度**：是否覆盖后台系统的常见页面类型（列表、详情、表单、流程、审计、设置）。
2. **复用度**：能力是否沉淀在 packages/_，而不是散落在 apps/_。
3. **一致性**：是否能统一交互、状态反馈和视觉语义。
4. **工程友好性**：API 易用、可扩展、AI 生成代码时可预测。

### 2.2 评分方法

- **数据来源**：基于 `packages/ui`（61 个导出组件）、`packages/table`（107 个文件）、`packages/*`（15 个子包）以及 `apps/*` 中的业务代码进行静态分析。
- **评分基准**：以 Ant Design Pro / Arco Design Pro 等成熟企业级模板工程的组件覆盖范围为 100 分基线。
- **权重**：覆盖度 40%、复用度 25%、一致性 20%、工程友好性 15%。
- **计算方式**：各能力域按维度加权后取平均分，综合分为各域按实际业务频次加权汇总。

## 3. 当前能力基线

| 能力域        | 现状                                         | 结论          |
|:-----------|:-------------------------------------------|:------------|
| 基础 UI 原子组件 | 已覆盖按钮、输入、选择、弹层、提示、表单、空态、分页、日期等主流能力（61 个导出） | 完整度高        |
| 布局组件       | 已具备应用壳、侧边栏、内容区、页头、页面容器能力                   | 可直接支撑中后台骨架  |
| 表格体系       | 已具备高级表格、查询面板、列配置、密度、选择、树形行等能力              | 成熟度高        |
| 错误反馈       | 已具备错误页与错误结构能力                              | 基础完备，语义层可增强 |
| 业务增强组件     | 存在于应用层，尚未系统下沉到 packages                    | 模板化不足的核心原因  |

## 4. 完整性结论（总体）

**总体评估：基础层强，模板层中等，业务增强层偏弱。**

可量化为：

| 能力域       | 得分         | 细分说明                          |
|:----------|:-----------|:------------------------------|
| 基础组件层     | 90/100     | 原子组件覆盖全，缺少 TagInput 等少数高频输入变体 |
| 布局与导航层    | 85/100     | 骨架完备，缺 Anchor 锚点导航            |
| 数据表格层     | 92/100     | 功能齐全成熟                        |
| 模板业务组件层   | 58/100     | 见下方细分                         |
| **综合完整性** | **81/100** |                               |

### 4.1 模板业务组件层细分评分

| 子项                 | 得分                        | 说明                              |
|:-------------------|:--------------------------|:--------------------------------|
| Upload（通用上传）       | 0/10                      | 业务层有，packages 未沉淀               |
| Wizard/Steps       | 0/10                      | 业务层多套实现，未统一                     |
| Copy（复制能力）         | 2/10                      | 17 处分散 `navigator.clipboard` 调用 |
| Result/State       | 3/10                      | 有错误页，缺统一成功/空/无权限语义              |
| DescriptionList    | 0/10                      | 完全缺失                            |
| Statistic/StatCard | 0/10                      | 仅业务层样式，packages 未沉淀             |
| 其他（树/级联/穿梭等）       | 3/8                       | 部分有业务实现基础                       |
| **合计**             | **8/58** → 归一化 **58/100** |                                 |

## 5. 关键缺口清单（按模板价值排序）

| 组件/能力                     | 当前状态                      | 典型场景               | 优先级 |
|:--------------------------|:--------------------------|:-------------------|:----|
| Upload（通用上传）              | 业务中已有实现，packages 未统一      | 文件上传、拖拽上传、进度与重试    | P0  |
| Wizard/Steps（流程组件）        | 业务中有多套实现，未统一              | 分步创建、配置向导          | P0  |
| Copy（复制能力）                | 多处分散实现（17 处 clipboard 调用） | 复制 ID、Token、命令、链接  | P0  |
| Result/State（统一结果态）       | 有错误页，缺统一成功/失败/空/无权限语义组件   | 操作结果页、空列表反馈        | P0  |
| DescriptionList           | 基本缺失                      | 详情页键值展示            | P0  |
| Statistic/StatCard        | 业务中已有样式，packages 未沉淀      | Dashboard 指标卡、趋势展示 | P0  |
| Tree（通用树）                 | 有业务定制树，缺通用组件              | 目录、组织架构、分类管理       | P1  |
| TreeSelect                | 缺失                        | 选择层级组织/目录          | P1  |
| Cascader                  | 缺失                        | 多级联动选择             | P1  |
| Transfer                  | 缺失                        | 权限分配、双栏迁移          | P1  |
| Timeline                  | 缺失                        | 审计轨迹、事件流           | P1  |
| Image（增强图片）               | 缺少统一封装                    | 图片预览、失败占位、懒加载      | P1  |
| TagInput / MultiInput     | 缺少统一封装                    | 多值标签输入、过滤器表达式      | P1  |
| Skeleton 预设               | 有基础 skeleton，缺页面级预设       | 表格骨架、卡片骨架、表单骨架     | P1  |
| Anchor                    | 缺失                        | 长文档目录导航            | P2  |
| BackTop                   | 缺失                        | 长页面回顶              | P2  |
| Tour                      | 缺失                        | 新用户引导              | P2  |
| Watermark                 | 缺失                        | 数据安全与防泄漏           | P2  |
| QRCode                    | 缺失                        | 二维码展示与分享           | P2  |
| Mentions/Rate/ColorPicker | 缺失                        | 协作输入与配置场景          | P2  |

## 6. 已有业务组件下沉候选

以下为 `apps/*` 中已存在的业务实现，可作为 packages 组件沉淀的直接参考：

### Upload 相关

| 业务文件                                                                        | 可提炼能力    |
|:----------------------------------------------------------------------------|:---------|
| `apps/nexus/src/features/file-management/components/file-upload-widget.tsx` | 拖拽上传 UI  |
| `apps/nexus/src/features/file-management/hooks/use-file-upload-manager.ts`  | 上传状态机与队列 |
| `apps/nexus/src/features/file-management/store/upload-store.ts`             | 上传全局状态管理 |

### Wizard 相关

| 业务文件                                                                             | 可提炼能力   |
|:---------------------------------------------------------------------------------|:--------|
| `apps/infera/src/features/project/fine-tuning/components/create-job-wizard.tsx`  | 多步表单向导  |
| `apps/infera/src/features/project/services/components/create-service-wizard.tsx` | 服务创建向导  |
| `apps/infera/src/features/project/datasets/components/upload-dataset-wizard.tsx` | 数据集上传向导 |
| `apps/infera/src/features/project/models/components/upload-model-wizard.tsx`     | 模型上传向导  |
| `apps/infera/src/features/project/evaluation/components/create-eval-wizard.tsx`  | 评估创建向导  |

### Copy 相关

| 分散位置                                                                     | 可提炼能力                            |
|:-------------------------------------------------------------------------|:---------------------------------|
| `apps/infera/src/features/shared/components/id-badge.tsx`                | 复制 ID 组件 → `CopyText`            |
| `apps/infera/src/features/shared/components/copy-secret-once-dialog.tsx` | 一次性密钥复制 → `CopyButton`           |
| 其余 15 处 `navigator.clipboard.writeText()` 散落调用                           | → `packages/hooks-core/use-copy` |

## 7. 建议的建设路线图

### 阶段一（P0，模板核心能力补齐）

1. 建立 Upload 统一组件与状态模型。
2. 将现有业务向导能力下沉为 Wizard/Steps。
3. 提供 CopyButton/CopyText 统一复制能力。
4. 建立 Result 与 State 语义组件族。
5. 增加 DescriptionList 与 Statistic/StatCard。

### 阶段二（P1，结构化数据与详情体验）

1. 建立通用 Tree 与 TreeSelect。
2. 增加 Cascader、Transfer。
3. 增加 Timeline。
4. 建立增强 Image 组件。
5. 增加 TagInput / MultiInput。
6. 建立 Skeleton 页面级预设。

### 阶段三（P2，体验增强与治理）

1. 增加 Anchor、BackTop、Tour。
2. 增加 Watermark、QRCode。
3. 视业务需求补齐 Mentions/Rate/ColorPicker。

## 8. 组件沉淀策略建议

1. 纯 UI 与交互组件统一沉淀到 `packages/ui`。
2. 复用逻辑沉淀到 `packages/hooks-core`（如复制、上传状态机）。
3. 与错误协议强相关能力放在 `packages/error-core`。
4. 禁止在应用层长期保留同类重复组件，优先"业务验证后回收下沉"。

## 9. 验收标准（每个新组件都应满足）

### 9.1 功能与 API

1. 提供稳定导出与明确类型定义。
2. 提供最小可用示例与常见场景示例。
3. 支持受控/非受控两种使用方式。

### 9.2 可访问性

1. 支持可访问性属性与键盘交互。
2. 符合 WAI-ARIA 规范。

### 9.3 视觉一致性

1. 与现有主题 token、表单体系、Toast 反馈一致。
2. 必须兼容 **暗色模式**（使用 `theme-system` 语义变量）。
3. 使用 Shadcn UI 语义化 CSS 变量，**零硬编码颜色**。

### 9.4 质量保障

1. 覆盖核心单测与关键交互测试。
2. 单文件不超过 400 行，超出需拆分。
3. 禁止 `any`，严格 TypeScript。

## 10. 最终结论

ideal-frontbase 已经具备高质量基础底座，下一步不在"补原子组件数量"，而在"补模板级高频业务组件标准化"。
优先完成 **Upload + Wizard/Steps + Copy + Result/State + DescriptionList + Statistic**，可最快提升工程复用率、页面搭建速度与交付一致性。
